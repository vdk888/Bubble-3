<!-- Portfolio Panel Component -->
<div class="portfolio-panel">
    <div class="panel-header">
        <div class="header-content">
            <i class="fas fa-chart-line"></i>
            <span>Portfolio</span>
        </div>
    </div>
    <div class="portfolio-content">
        <!-- Account Summary -->
        <div class="portfolio-card">
            <div class="card-header">
                <h3>Account Summary</h3>
                <div class="header-controls">
                    <button id="toggle-performance" class="toggle-btn">
                        <i class="fas fa-chart-area"></i>
                        Performance
                    </button>
                    <button id="toggle-view" class="toggle-btn" title="Toggle between graph and table view">
                        <i class="fas fa-table"></i>
                    </button>
                </div>
            </div>
            
            <!-- Performance Graph Section (Hidden by default) -->
            <div id="performance-section" class="performance-section slide-section" style="display: none;">
                <div class="timeframe-controls">
                    <button class="timeframe-btn active" data-timeframe="1D">1D</button>
                    <button class="timeframe-btn" data-timeframe="1W">1W</button>
                    <button class="timeframe-btn" data-timeframe="1M">1M</button>
                    <button class="timeframe-btn" data-timeframe="3M">3M</button>
                    <button class="timeframe-btn" data-timeframe="1Y">1Y</button>
                    <button class="timeframe-btn" data-timeframe="ALL">ALL</button>
                </div>
                <div class="performance-chart-container">
                    <canvas id="performance-chart"></canvas>
                </div>
                <div class="performance-table-container" style="display: none;">
                    <div class="table-wrapper">
                        <table id="performance-table" class="performance-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Portfolio Value</th>
                                    <th>Change</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="performance-stats">
                    <div class="stat-item">
                        <span class="stat-label">Total Return</span>
                        <span class="stat-value" id="total-return">0.00%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Period High</span>
                        <span class="stat-value" id="period-high">$0.00</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Period Low</span>
                        <span class="stat-value" id="period-low">$0.00</span>
                    </div>
                </div>
            </div>

            <div id="account-summary" class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-title">Buying Power</div>
                    <div class="metric-value" id="buying-power">$0.00</div>
                </div>
                <div class="metric-card">
                    <div class="metric-title">Cash Available</div>
                    <div class="metric-value" id="cash-available">$0.00</div>
                </div>
                <div class="metric-card">
                    <div class="metric-title">Daily Change</div>
                    <div class="metric-value" id="daily-change">0.00%</div>
                </div>
                <div class="metric-card">
                    <div class="metric-title">Total Value</div>
                    <div class="metric-value" id="total-value">$0.00</div>
                </div>
            </div>
        </div>

        <!-- Portfolio Tools -->
        <div class="portfolio-tools">
            <button class="tool-button" data-tool="positions">
                <i class="fas fa-chart-pie"></i>
                Positions
            </button>
            <button class="tool-button" data-tool="orders">
                <i class="fas fa-list"></i>
                Orders
            </button>
            <button class="tool-button" data-tool="trade">
                <i class="fas fa-exchange-alt"></i>
                Trade
            </button>
            <button class="tool-button" data-tool="total-assets">
                <i class="fas fa-wallet"></i>
                Total Assets
            </button>
            <button class="tool-button premium" data-tool="custom-portfolio">
                <i class="fas fa-magic"></i>
                Customized Portfolio
            </button>
        </div>

        <!-- Tool Content Areas (Hidden by default) -->
        <div id="tool-contents" style="display: none;">
            <div id="positions-content" class="portfolio-card tool-content">
                <h3>Positions</h3>
                <div class="positions-visualization">
                    <canvas id="positions-chart"></canvas>
                </div>
                <div id="positions-data" class="loading">Loading positions...</div>
            </div>

            <div id="orders-content" class="portfolio-card tool-content">
                <h3>Recent Orders</h3>
                <div id="orders-data" class="loading">Loading orders...</div>
            </div>

            <div id="trade-content" class="portfolio-card tool-content">
                <h3>Trade</h3>
                <div id="trade-form">
                    <div class="form-group">
                        <label for="trade-symbol">Symbol</label>
                        <input type="text" id="trade-symbol" class="dark-input" placeholder="e.g., AAPL">
                    </div>
                    <div class="form-group">
                        <label for="trade-type">Order Type</label>
                        <select id="trade-type" class="dark-input">
                            <option value="market">Market Order</option>
                            <option value="limit">Limit Order</option>
                            <option value="stop">Stop Order</option>
                            <option value="stop_limit">Stop Limit Order</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="trade-side">Side</label>
                        <select id="trade-side" class="dark-input">
                            <option value="buy">Buy</option>
                            <option value="sell">Sell</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="trade-quantity">Quantity</label>
                        <input type="number" id="trade-quantity" class="dark-input" min="0" step="1">
                    </div>
                    <button id="submit-trade" class="primary-button">Place Order</button>
                </div>
            </div>

            <div id="total-assets-content" class="portfolio-card tool-content">
                <h3>Total Assets</h3>
                <div id="total-assets-data"></div>
            </div>

            <div id="custom-portfolio-content" class="portfolio-card tool-content">
                <h3>Customized Portfolio</h3>
                <div id="custom-portfolio-data"></div>
            </div>
        </div>
    </div>
</div>
